<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<script>
  if(typeof Array.prototype.indexOf!=="function")
    Array.prototype.indexOf=
      function(val,fromi){
        document.write("调用自定义的indexOf<br>");
        //this->将来调用indexOf的数组
        //如果没有给定fromi，则用0代替
        fromi=fromi||0;
        //遍历当前数组中每个元素
        for(var i=fromi;
            i<this.length;
            i++){
          if(this[i]===val)
            return i;
        }
        return -1;
      }

  var arr=[1,2,3,4,3,2,1];
         //0 1 2 3 4 5 6
  document.write(
    arr.indexOf(3)+"<br>"+//2
    arr.indexOf(3,3)+"<br>"+//4
    arr.indexOf(3,5)+"<br>"//-1
  );
</script>
</body>
</html>